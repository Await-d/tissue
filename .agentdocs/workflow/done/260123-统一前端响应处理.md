# 任务概览
统一前端 API 响应解析方式，修复登录与多个页面因响应结构不一致导致的数据为空/异常问题。

## 现状分析
- 前端 `request` 拦截器已将 Axios 响应解包为 `response.data`，但多处代码仍以 `response.data.data` 读取，导致实际取到 `undefined`。
- 部分后端接口返回非 `R` 包装结构（如 `/home/ranking`、`/history/`、`/auto-download/*`），前端仍按 `data` 字段读取，造成结构错配。
- 需要在不破坏现有调用的前提下，统一前端 API 层返回值约定，修复相关调用方。

## 方案设计
- 保持拦截器行为不变（返回 body）。
- 对 `R` 包装响应：API 方法返回 payload（即 body 的 `data` 字段）。
- 对非 `R` 响应：API 方法直接返回 body。
- 更新调用方以匹配 API 方法返回值，移除多余的 `.data.data` 读取。

## 实施计划

### 阶段一：API 层统一
- [x] T-01：梳理并调整前端 `apis/` 目录中所有响应解析逻辑 ✅
- [x] T-02：处理非 `R` 接口（home/history/auto-download 等）的返回结构 ✅

### 阶段二：调用方修复
- [x] T-03：修复页面/组件中对 `response.data.data` 的使用 ✅
- [x] T-04：修正依赖 AxiosResponse 的逻辑（如下载设置连接测试） ✅

## 备注
- 所有变更需通过前端 lint/typecheck。
