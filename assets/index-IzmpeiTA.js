import{aK as r,az as n,ac as m,D as e,at as p,a3 as x,T as s,aR as g,G as f}from"./index-D7_jgbed.js";async function j(){return(await r.request({url:"/schedule/",method:"get"})).data.data}function y(a){return r.request({url:"/schedule/fire",method:"get",params:{key:a}})}const q=function(){const{data:o=[],loading:d,refresh:c}=n(j,{}),{run:i,loading:l}=n(y,{manual:!0,onSuccess:()=>{m.success("手动执行成功"),c()}}),u=[{title:"任务",dataIndex:"name"},{title:"状态",dataIndex:"status",render:t=>t?e.jsx(s,{color:"success",children:"运行中"}):e.jsx(s,{color:"warning",children:"等待"})},{title:"下次执行",dataIndex:"next_run_time",render:t=>g(t).format("lll")},{title:"操作",dataIndex:"operations",render:(t,h)=>e.jsx("span",{children:e.jsx(f,{type:"primary",onClick:()=>i(h.key),loading:l,children:"手动执行"})})}];return e.jsx(p,{title:"任务列表",children:e.jsx(x,{rowKey:"key",columns:u,dataSource:o,loading:d,pagination:!1})})};export{q as component};
