import{r as N,I as pe,_ as L,b5 as O,b as ie,c as _,e as B,a as ce,K as Y,d as ve,C as Ce,t as de,b6 as ye,w as be,p as je,b7 as $e,A as Ie,g as ue,j as Se,m as we,k as M,b8 as ke,b9 as Pe,l as Ne,ba as Oe,bb as Re,bc as ze,bd as Z,be as Ae,y as ee,aK as fe,W as Me,az as ne,ac as G,D as e,E as T,T as ae,O as se,N as W,aS as V,ah as Ee,bf as Be,bg as _e,ai as te,aT as Ke,at as le,G as J,ax as De,bh as Te,ar as Le,H as U,J as E,M as X,aj as Fe,bi as re,bj as A,F as He,aC as oe,X as Ge,a4 as Ve}from"./index-QxN7NqSD.js";import{u as qe}from"./index-Ci53E5T_.js";import{I as q}from"./index-DTsxH11M.js";import{V as Xe}from"./index-DVVztkZi.js";import{R as We}from"./FolderViewOutlined-DqJ43-wp.js";var Je={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 312v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm376 116c-119.3 0-216 96.7-216 216s96.7 216 216 216 216-96.7 216-216-96.7-216-216-216zm107.5 323.5C750.8 868.2 712.6 884 672 884s-78.8-15.8-107.5-44.5C535.8 810.8 520 772.6 520 732s15.8-78.8 44.5-107.5C593.2 595.8 631.4 580 672 580s78.8 15.8 107.5 44.5C808.2 653.2 824 691.4 824 732s-15.8 78.8-44.5 107.5zM761 656h-44.3c-2.6 0-5 1.2-6.5 3.3l-63.5 87.8-23.1-31.9a7.92 7.92 0 00-6.5-3.3H573c-6.5 0-10.3 7.4-6.5 12.7l73.8 102.1c3.2 4.4 9.7 4.4 12.9 0l114.2-158c3.9-5.3.1-12.7-6.4-12.7zM440 852H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"file-done",theme:"outlined"},Ue=function(n,l){return N.createElement(pe,L({},n,{ref:l,icon:Je}))},Qe=N.forwardRef(Ue),he=O.forwardRef(function(a,n){var l=a.prefixCls,r=a.forceRender,i=a.className,y=a.style,v=a.children,h=a.isActive,g=a.role,w=a.classNames,b=a.styles,C=O.useState(h||r),m=ie(C,2),u=m[0],f=m[1];return O.useEffect(function(){(r||h)&&f(!0)},[r,h]),u?O.createElement("div",{ref:n,className:_("".concat(l,"-content"),B(B({},"".concat(l,"-content-active"),h),"".concat(l,"-content-inactive"),!h),i),style:y,role:g},O.createElement("div",{className:_("".concat(l,"-content-box"),w==null?void 0:w.body),style:b==null?void 0:b.body},v)):null});he.displayName="PanelContent";var Ye=["showArrow","headerClass","isActive","onItemClick","forceRender","className","classNames","styles","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],me=O.forwardRef(function(a,n){var l=a.showArrow,r=l===void 0?!0:l,i=a.headerClass,y=a.isActive,v=a.onItemClick,h=a.forceRender,g=a.className,w=a.classNames,b=w===void 0?{}:w,C=a.styles,m=C===void 0?{}:C,u=a.prefixCls,f=a.collapsible,I=a.accordion,o=a.panelKey,S=a.extra,k=a.header,j=a.expandIcon,$=a.openMotion,R=a.destroyInactivePanel,P=a.children,z=ce(a,Ye),t=f==="disabled",s=S!=null&&typeof S!="boolean",d=B(B(B({onClick:function(){v==null||v(o)},onKeyDown:function(D){(D.key==="Enter"||D.keyCode===Y.ENTER||D.which===Y.ENTER)&&(v==null||v(o))},role:I?"tab":"button"},"aria-expanded",y),"aria-disabled",t),"tabIndex",t?-1:0),c=typeof j=="function"?j(a):O.createElement("i",{className:"arrow"}),x=c&&O.createElement("div",L({className:"".concat(u,"-expand-icon")},["header","icon"].includes(f)?d:{}),c),p=_("".concat(u,"-item"),B(B({},"".concat(u,"-item-active"),y),"".concat(u,"-item-disabled"),t),g),K=_(i,"".concat(u,"-header"),B({},"".concat(u,"-collapsible-").concat(f),!!f),b.header),F=ve({className:K,style:m.header},["header","icon"].includes(f)?{}:d);return O.createElement("div",L({},z,{ref:n,className:p}),O.createElement("div",F,r&&x,O.createElement("span",L({className:"".concat(u,"-header-text")},f==="header"?d:{}),k),s&&O.createElement("div",{className:"".concat(u,"-extra")},S)),O.createElement(Ce,L({visible:y,leavedClassName:"".concat(u,"-content-hidden")},$,{forceRender:h,removeOnLeave:R}),function(H,D){var ge=H.className,xe=H.style;return O.createElement(he,{ref:D,prefixCls:u,className:ge,classNames:b,style:xe,styles:m,isActive:y,forceRender:h,role:I?"tabpanel":void 0},P)}))}),Ze=["children","label","key","collapsible","onItemClick","destroyInactivePanel"],en=function(n,l){var r=l.prefixCls,i=l.accordion,y=l.collapsible,v=l.destroyInactivePanel,h=l.onItemClick,g=l.activeKey,w=l.openMotion,b=l.expandIcon;return n.map(function(C,m){var u=C.children,f=C.label,I=C.key,o=C.collapsible,S=C.onItemClick,k=C.destroyInactivePanel,j=ce(C,Ze),$=String(I??m),R=o??y,P=k??v,z=function(d){R!=="disabled"&&(h(d),S==null||S(d))},t=!1;return i?t=g[0]===$:t=g.indexOf($)>-1,O.createElement(me,L({},j,{prefixCls:r,key:$,panelKey:$,isActive:t,accordion:i,openMotion:w,expandIcon:b,header:f,collapsible:R,onItemClick:z,destroyInactivePanel:P}),u)})},nn=function(n,l,r){if(!n)return null;var i=r.prefixCls,y=r.accordion,v=r.collapsible,h=r.destroyInactivePanel,g=r.onItemClick,w=r.activeKey,b=r.openMotion,C=r.expandIcon,m=n.key||String(l),u=n.props,f=u.header,I=u.headerClass,o=u.destroyInactivePanel,S=u.collapsible,k=u.onItemClick,j=!1;y?j=w[0]===m:j=w.indexOf(m)>-1;var $=S??v,R=function(t){$!=="disabled"&&(g(t),k==null||k(t))},P={key:m,panelKey:m,header:f,headerClass:I,isActive:j,prefixCls:i,destroyInactivePanel:o??h,openMotion:b,accordion:y,children:n.props.children,onItemClick:R,expandIcon:C,collapsible:$};return typeof n.type=="string"?n:(Object.keys(P).forEach(function(z){typeof P[z]>"u"&&delete P[z]}),O.cloneElement(n,P))};function an(a,n,l){return Array.isArray(a)?en(a,l):de(n).map(function(r,i){return nn(r,i,l)})}function sn(a){var n=a;if(!Array.isArray(n)){var l=$e(n);n=l==="number"||l==="string"?[n]:[]}return n.map(function(r){return String(r)})}var tn=O.forwardRef(function(a,n){var l=a.prefixCls,r=l===void 0?"rc-collapse":l,i=a.destroyInactivePanel,y=i===void 0?!1:i,v=a.style,h=a.accordion,g=a.className,w=a.children,b=a.collapsible,C=a.openMotion,m=a.expandIcon,u=a.activeKey,f=a.defaultActiveKey,I=a.onChange,o=a.items,S=_(r,g),k=ye([],{value:u,onChange:function(s){return I==null?void 0:I(s)},defaultValue:f,postState:sn}),j=ie(k,2),$=j[0],R=j[1],P=function(s){return R(function(){if(h)return $[0]===s?[]:[s];var d=$.indexOf(s),c=d>-1;return c?$.filter(function(x){return x!==s}):[].concat(Ie($),[s])})};be(!w,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var z=an(o,w,{prefixCls:r,accordion:h,openMotion:C,expandIcon:m,collapsible:b,destroyInactivePanel:y,onItemClick:P,activeKey:$});return O.createElement("div",L({ref:n,className:S,style:v,role:h?"tablist":void 0},je(a,{aria:!0,data:!0})),z)});const Q=Object.assign(tn,{Panel:me});Q.Panel;const ln=N.forwardRef((a,n)=>{const{getPrefixCls:l}=N.useContext(ue),{prefixCls:r,className:i,showArrow:y=!0}=a,v=l("collapse",r),h=_({[`${v}-no-arrow`]:!y},i);return N.createElement(Q.Panel,Object.assign({ref:n},a,{prefixCls:v,className:h}))}),rn=a=>{const{componentCls:n,contentBg:l,padding:r,headerBg:i,headerPadding:y,collapseHeaderPaddingSM:v,collapseHeaderPaddingLG:h,collapsePanelBorderRadius:g,lineWidth:w,lineType:b,colorBorder:C,colorText:m,colorTextHeading:u,colorTextDisabled:f,fontSizeLG:I,lineHeight:o,lineHeightLG:S,marginSM:k,paddingSM:j,paddingLG:$,paddingXS:R,motionDurationSlow:P,fontSizeIcon:z,contentPadding:t,fontHeight:s,fontHeightLG:d}=a,c=`${M(w)} ${b} ${C}`;return{[n]:Object.assign(Object.assign({},Pe(a)),{backgroundColor:i,border:c,borderRadius:g,"&-rtl":{direction:"rtl"},[`& > ${n}-item`]:{borderBottom:c,"&:first-child":{[`
            &,
            & > ${n}-header`]:{borderRadius:`${M(g)} ${M(g)} 0 0`}},"&:last-child":{[`
            &,
            & > ${n}-header`]:{borderRadius:`0 0 ${M(g)} ${M(g)}`}},[`> ${n}-header`]:Object.assign(Object.assign({position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:y,color:u,lineHeight:o,cursor:"pointer",transition:`all ${P}, visibility 0s`},Ne(a)),{[`> ${n}-header-text`]:{flex:"auto"},[`${n}-expand-icon`]:{height:s,display:"flex",alignItems:"center",paddingInlineEnd:k},[`${n}-arrow`]:Object.assign(Object.assign({},Oe()),{fontSize:z,transition:`transform ${P}`,svg:{transition:`transform ${P}`}}),[`${n}-header-text`]:{marginInlineEnd:"auto"}}),[`${n}-collapsible-header`]:{cursor:"default",[`${n}-header-text`]:{flex:"none",cursor:"pointer"}},[`${n}-collapsible-icon`]:{cursor:"unset",[`${n}-expand-icon`]:{cursor:"pointer"}}},[`${n}-content`]:{color:m,backgroundColor:l,borderTop:c,[`& > ${n}-content-box`]:{padding:t},"&-hidden":{display:"none"}},"&-small":{[`> ${n}-item`]:{[`> ${n}-header`]:{padding:v,paddingInlineStart:R,[`> ${n}-expand-icon`]:{marginInlineStart:a.calc(j).sub(R).equal()}},[`> ${n}-content > ${n}-content-box`]:{padding:j}}},"&-large":{[`> ${n}-item`]:{fontSize:I,lineHeight:S,[`> ${n}-header`]:{padding:h,paddingInlineStart:r,[`> ${n}-expand-icon`]:{height:d,marginInlineStart:a.calc($).sub(r).equal()}},[`> ${n}-content > ${n}-content-box`]:{padding:$}}},[`${n}-item:last-child`]:{borderBottom:0,[`> ${n}-content`]:{borderRadius:`0 0 ${M(g)} ${M(g)}`}},[`& ${n}-item-disabled > ${n}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:f,cursor:"not-allowed"}},[`&${n}-icon-position-end`]:{[`& > ${n}-item`]:{[`> ${n}-header`]:{[`${n}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:k}}}}})}},on=a=>{const{componentCls:n}=a,l=`> ${n}-item > ${n}-header ${n}-arrow`;return{[`${n}-rtl`]:{[l]:{transform:"rotate(180deg)"}}}},cn=a=>{const{componentCls:n,headerBg:l,paddingXXS:r,colorBorder:i}=a;return{[`${n}-borderless`]:{backgroundColor:l,border:0,[`> ${n}-item`]:{borderBottom:`1px solid ${i}`},[`
        > ${n}-item:last-child,
        > ${n}-item:last-child ${n}-header
      `]:{borderRadius:0},[`> ${n}-item:last-child`]:{borderBottom:0},[`> ${n}-item > ${n}-content`]:{backgroundColor:"transparent",borderTop:0},[`> ${n}-item > ${n}-content > ${n}-content-box`]:{paddingTop:r}}}},dn=a=>{const{componentCls:n,paddingSM:l}=a;return{[`${n}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${n}-item`]:{borderBottom:0,[`> ${n}-content`]:{backgroundColor:"transparent",border:0,[`> ${n}-content-box`]:{paddingBlock:l}}}}}},un=a=>({headerPadding:`${a.paddingSM}px ${a.padding}px`,headerBg:a.colorFillAlter,contentPadding:`${a.padding}px 16px`,contentBg:a.colorBgContainer}),fn=Se("Collapse",a=>{const n=we(a,{collapseHeaderPaddingSM:`${M(a.paddingXS)} ${M(a.paddingSM)}`,collapseHeaderPaddingLG:`${M(a.padding)} ${M(a.paddingLG)}`,collapsePanelBorderRadius:a.borderRadiusLG});return[rn(n),cn(n),dn(n),on(n),ke(n)]},un),hn=N.forwardRef((a,n)=>{const{getPrefixCls:l,direction:r,collapse:i}=N.useContext(ue),{prefixCls:y,className:v,rootClassName:h,style:g,bordered:w=!0,ghost:b,size:C,expandIconPosition:m="start",children:u,expandIcon:f}=a,I=Re(c=>{var x;return(x=C??c)!==null&&x!==void 0?x:"middle"}),o=l("collapse",y),S=l(),[k,j,$]=fn(o),R=N.useMemo(()=>m==="left"?"start":m==="right"?"end":m,[m]),P=f??(i==null?void 0:i.expandIcon),z=N.useCallback(function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const x=typeof P=="function"?P(c):N.createElement(ze,{rotate:c.isActive?r==="rtl"?-90:90:void 0,"aria-label":c.isActive?"expanded":"collapsed"});return Z(x,()=>{var p;return{className:_((p=x==null?void 0:x.props)===null||p===void 0?void 0:p.className,`${o}-arrow`)}})},[P,o]),t=_(`${o}-icon-position-${R}`,{[`${o}-borderless`]:!w,[`${o}-rtl`]:r==="rtl",[`${o}-ghost`]:!!b,[`${o}-${I}`]:I!=="middle"},i==null?void 0:i.className,v,h,j,$),s=Object.assign(Object.assign({},Ae(S)),{motionAppear:!1,leavedClassName:`${o}-content-hidden`}),d=N.useMemo(()=>u?de(u).map((c,x)=>{var p,K;const F=c.props;if(F!=null&&F.disabled){const H=(p=c.key)!==null&&p!==void 0?p:String(x),D=Object.assign(Object.assign({},ee(c.props,["disabled"])),{key:H,collapsible:(K=F.collapsible)!==null&&K!==void 0?K:"disabled"});return Z(c,D)}return c}):null,[u]);return k(N.createElement(Q,Object.assign({ref:n,openMotion:s},ee(a,["rootClassName"]),{expandIcon:z,prefixCls:o,className:t,style:Object.assign(Object.assign({},i==null?void 0:i.style),g)}),d))}),mn=Object.assign(hn,{Panel:ln});async function gn(a){return(await fe.request({url:"/download/",method:"get",params:a})).data.data}function xn(a){return fe.request({url:"/download/complete",method:"get",params:{torrent_hash:a}})}const{useToken:pn}=Ve,$n=function(){const{token:n}=pn(),l=Me(),[r,i]=N.useState(),[y,v]=N.useState(),h=qe(y,{wait:1e3}),[g,w]=N.useState(!0),[b,C]=N.useState(!0),[m,u]=N.useState(!1),[f,I]=N.useState({status:"all",sizeRange:[0,1e4],dateRange:null,sortBy:"date",sortOrder:"desc"});N.useState({total:0,downloading:0,completed:0,failed:0,totalSize:"0 GB"});const{data:o=[],loading:S,refresh:k}=ne(()=>gn({include_success:g,include_failed:b}),{refreshDeps:[g,b]}),j=N.useMemo(()=>{let t=o.filter(s=>{if(!(!h||s.name.indexOf(h)!=-1||s.files.some(p=>p.name.indexOf(h)!=-1||p.path.indexOf(h)!=-1)))return!1;const c=s.files.some(p=>p.progress>=1),x=s.files.some(p=>p.progress===0);return!(!g&&c&&!s.files.some(p=>p.progress<1)||!b&&x)});return m&&(t=t.filter(s=>{if(f.status!=="all"){const d=s.files.some(x=>x.progress>=1),c=s.files.some(x=>x.progress>0&&x.progress<1);if(f.status==="completed"&&!d||f.status==="downloading"&&!c)return!1}return!0})),t},[o,h,m,f,g,b]),{run:$}=ne(xn,{manual:!0,onSuccess:()=>{G.success("标记成功"),k()}}),R=t=>{if(t){const s=new URLSearchParams(window.location.search),d=s.get("source")||"javdb",c=s.get("url")||"";l({to:`/video/${t}`,search:{source:d,url:c}})}else G.info("无法识别番号，无法跳转到详情页面")},P=t=>{l({to:"/actor",search:{actorName:t}})},z=j.map(t=>({key:t.hash,label:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[e.jsx("span",{children:t.name}),e.jsx(T,{children:(()=>{const s=t.files.length,d=t.files.filter(p=>p.progress>=1).length,c=t.files.filter(p=>p.progress>0&&p.progress<1).length,x=t.files.reduce((p,K)=>p+K.progress,0)/s;return e.jsxs(e.Fragment,{children:[e.jsxs(ae,{color:d===s?"success":c>0?"processing":"default",children:[d,"/",s," 文件"]}),e.jsx(se,{percent:Math.round(x*100),size:"small",style:{width:80},strokeColor:d===s?"#52c41a":"#1890ff"})]})})()})]}),children:e.jsx(W,{itemLayout:"horizontal",dataSource:t.files,renderItem:(s,d)=>e.jsx(W.Item,{actions:[e.jsx(V,{title:"整理",children:e.jsx(q,{onClick:()=>{i(s.path)},children:e.jsx(We,{style:{fontSize:n.sizeLG}})})})],children:e.jsx(W.Item.Meta,{title:e.jsxs("span",{children:[s.num?e.jsx("a",{onClick:()=>R(s.num),children:s.name}):s.name,e.jsx(ae,{style:{marginLeft:5},color:"success",children:s.size}),s.progress<1&&e.jsx(se,{percent:Math.round(s.progress*100),size:"small",style:{width:100,marginLeft:10,display:"inline-block"}})]}),description:e.jsxs("div",{children:[e.jsx("div",{children:s.path}),s.actors&&s.actors.length>0&&e.jsxs("div",{style:{marginTop:5},children:[e.jsx(Ee,{style:{marginRight:5}}),s.actors.map((c,x)=>e.jsxs(O.Fragment,{children:[e.jsx("a",{onClick:()=>P(c),children:c}),x<s.actors.length-1&&e.jsx("span",{children:", "})]},c))]})]})})})}),extra:e.jsxs(T,{children:[e.jsx(V,{title:"重新开始下载",children:e.jsx(q,{onClick:()=>{G.info("重新开始下载功能开发中...")},children:e.jsx(Be,{style:{fontSize:n.sizeLG,color:"#1890ff"}})})}),e.jsx(V,{title:"暂停下载",children:e.jsx(q,{onClick:()=>{G.info("暂停下载功能开发中...")},children:e.jsx(_e,{style:{fontSize:n.sizeLG,color:"#faad14"}})})}),e.jsx(V,{title:'标记为"整理成功"',children:e.jsx(q,{onClick:()=>{te.confirm({title:"是否确认标记为完成",onOk:()=>$(t.hash)})},children:e.jsx(Qe,{style:{fontSize:n.sizeLG,color:"#52c41a"}})})}),e.jsx(V,{title:"删除任务",children:e.jsx(q,{onClick:()=>{te.confirm({title:"确认删除下载任务？",content:"此操作将删除下载任务，但不会删除已下载的文件",okText:"确认删除",okType:"danger",onOk:()=>{G.info("删除功能开发中...")}})},children:e.jsx(Ke,{style:{fontSize:n.sizeLG,color:"#ff4d4f"}})})})]})}));return e.jsxs(le,{title:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("span",{children:"下载列表"}),e.jsxs(T,{children:[e.jsxs(J,{icon:e.jsx(De,{}),size:"small",onClick:()=>u(!m),children:["高级筛选 ",m?"▼":"▶"]}),e.jsx(J,{icon:e.jsx(Te,{}),size:"small",onClick:k,loading:S,children:"刷新"})]})]}),loading:S,extra:e.jsx(Le.Search,{value:y,onChange:t=>v(t.target.value),placeholder:"搜索"}),children:[e.jsxs(U,{gutter:16,style:{marginBottom:16},children:[e.jsx(E,{span:6,children:e.jsx(X,{title:"总任务数",value:o.length})}),e.jsx(E,{span:6,children:e.jsx(X,{title:"进行中",value:o.reduce((t,s)=>t+s.files.filter(d=>d.progress>0&&d.progress<1).length,0),valueStyle:{color:"#1890ff"}})}),e.jsx(E,{span:6,children:e.jsx(X,{title:"已完成",value:o.reduce((t,s)=>t+s.files.filter(d=>d.progress>=1).length,0),valueStyle:{color:"#52c41a"}})}),e.jsx(E,{span:6,children:e.jsx(X,{title:"失败/等待",value:o.reduce((t,s)=>t+s.files.filter(d=>d.progress===0).length,0),valueStyle:{color:"#ff4d4f"}})})]}),e.jsx(Fe,{}),e.jsx("div",{style:{marginBottom:16},children:e.jsxs(U,{gutter:16,children:[e.jsx(E,{children:e.jsxs(T,{children:[e.jsx("span",{children:"显示已完成:"}),e.jsx(re,{checked:g,onChange:w,size:"small"})]})}),e.jsx(E,{children:e.jsxs(T,{children:[e.jsx("span",{children:"显示失败:"}),e.jsx(re,{checked:b,onChange:C,size:"small"})]})})]})}),m&&e.jsx(le,{size:"small",style:{marginBottom:16},children:e.jsxs(U,{gutter:[16,8],children:[e.jsxs(E,{span:8,children:[e.jsx("div",{style:{marginBottom:8},children:"状态筛选"}),e.jsxs(A,{value:f.status,onChange:t=>I({...f,status:t}),style:{width:"100%"},children:[e.jsx(A.Option,{value:"all",children:"全部状态"}),e.jsx(A.Option,{value:"downloading",children:"下载中"}),e.jsx(A.Option,{value:"completed",children:"已完成"}),e.jsx(A.Option,{value:"failed",children:"失败/等待"})]})]}),e.jsxs(E,{span:8,children:[e.jsx("div",{style:{marginBottom:8},children:"排序方式"}),e.jsxs(A,{value:`${f.sortBy}-${f.sortOrder}`,onChange:t=>{const[s,d]=t.split("-");I({...f,sortBy:s,sortOrder:d})},style:{width:"100%"},children:[e.jsx(A.Option,{value:"date-desc",children:"添加时间 (新→旧)"}),e.jsx(A.Option,{value:"date-asc",children:"添加时间 (旧→新)"}),e.jsx(A.Option,{value:"progress-desc",children:"进度 (高→低)"}),e.jsx(A.Option,{value:"progress-asc",children:"进度 (低→高)"}),e.jsx(A.Option,{value:"size-desc",children:"大小 (大→小)"}),e.jsx(A.Option,{value:"size-asc",children:"大小 (小→大)"})]})]}),e.jsxs(E,{span:8,children:[e.jsx("div",{style:{marginBottom:8},children:"快速操作"}),e.jsx(T,{children:e.jsx(J,{size:"small",onClick:()=>{I({status:"all",sizeRange:[0,1e4],dateRange:null,sortBy:"date",sortOrder:"desc"}),v("")},children:"重置筛选"})})]})]})}),j.length>0?e.jsxs(e.Fragment,{children:[j.length!==o.length&&e.jsx("div",{style:{marginBottom:16,padding:"8px 12px",background:"#f0f2f5",borderRadius:4},children:e.jsxs(T,{children:[e.jsx(He,{count:j.length,style:{backgroundColor:"#1890ff"}}),e.jsxs("span",{children:["筛选结果：",j.length," / ",o.length," 个任务"]})]})}),e.jsx(mn,{items:z,ghost:!0})]}):o.length>0?e.jsx(oe,{description:"没有符合筛选条件的下载任务"}):e.jsx(oe,{description:e.jsxs("span",{children:["无下载任务，",e.jsx(Ge,{to:"/setting/download",children:"配置下载"})]})}),e.jsx(Xe,{title:"下载整理",mode:"download",width:1100,path:r,open:!!r,onCancel:()=>i(void 0),onOk:()=>{i(void 0),k()}})]})};export{$n as component};
