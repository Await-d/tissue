import{aL as u,a7 as m,aA as h,r as o,F as e,au as g,J as r,N as j,aT as y,aC as b,$ as k,U as I,as as S,O as w,ap as N}from"./index-CPAKaPzh.js";import{u as z}from"./index-D24IkpYP.js";import{I as C}from"./index-FEDTYq1f.js";import{V as R}from"./index-CBK9vvfO.js";import{R as v}from"./FolderViewOutlined-DDeIH3DI.js";async function L(){return(await u.request({url:"/file/"})).data.data}const{useToken:D}=m;function B(){const{token:n}=D(),{data:l=[],loading:p,refresh:f}=h(L),[i,t]=o.useState(),[c,x]=o.useState(),s=z(c,{wait:1e3}),d=o.useMemo(()=>l.filter(a=>!s||a.name.indexOf(s)!=-1||a.path.indexOf(s)!=-1),[l,s]);return e.jsx("div",{className:"file-page-wrapper animate-fade-in",children:e.jsxs(g,{title:e.jsx("span",{style:{color:"#f0f0f2",fontSize:18,fontWeight:500},children:"文件列表"}),loading:p,className:"dark-card",style:{background:"#141416",border:"1px solid rgba(255, 255, 255, 0.08)",borderRadius:8},extra:e.jsxs(I.Compact,{children:[e.jsx(S,{value:c,onChange:a=>x(a.target.value),placeholder:"搜索文件名或路径",style:{background:"#1a1a1d",border:"1px solid rgba(255, 255, 255, 0.08)",color:"#f0f0f2"},className:"dark-input"}),e.jsx(w,{icon:e.jsx(N,{}),style:{background:"#1a1a1d",border:"1px solid rgba(255, 255, 255, 0.08)",color:"#d4a852"}})]}),children:[d.length>0?e.jsx(r,{itemLayout:"horizontal",dataSource:d,className:"dark-file-list",renderItem:(a,O)=>e.jsx(r.Item,{className:"dark-file-item",actions:[e.jsx(y,{title:"整理",children:e.jsx(C,{onClick:()=>t(`${a.path}/${a.name}`),style:{color:"#d4a852",transition:"all 0.3s"},className:"file-action-btn",children:e.jsx(v,{style:{fontSize:n.sizeLG}})})})],children:e.jsx(r.Item.Meta,{title:e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{style:{color:"#f0f0f2",fontWeight:500},children:a.name}),e.jsx(j,{style:{background:"rgba(212, 168, 82, 0.12)",border:"1px solid rgba(212, 168, 82, 0.25)",color:"#e8c780",margin:0},children:a.size})]}),description:e.jsx("span",{style:{color:"#a0a0a8",fontSize:13},children:a.path})})})}):e.jsx(b,{description:e.jsxs("span",{style:{color:"#a0a0a8"},children:["无文件，",e.jsx(k,{to:"/setting/file",style:{color:"#d4a852"},children:"配置文件"})]}),style:{padding:"40px 0"}}),e.jsx(R,{title:"文件整理",mode:"file",width:1100,path:i,open:!!i,onCancel:()=>t(void 0),onOk:()=>{t(void 0),f()}})]})})}export{B as component};
