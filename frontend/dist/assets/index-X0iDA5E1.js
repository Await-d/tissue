import{r as j,I as ve,_ as T,b7 as S,b as de,c as F,e as L,a as ue,K as ee,d as Ce,C as ye,x as he,b8 as be,w as je,p as $e,b9 as Ie,D as Se,v as we,j as Pe,m as ke,k as K,ba as Ne,bb as Oe,l as Re,bc as ze,g as Ae,bd as Me,be as Be,bf as ne,bg as Ee,A as se,aM as fe,a6 as _e,Y as Ke,aB as te,F as e,U as H,aU as q,bh as De,ae as X,bi as Le,ak as ae,aV as Fe,J,aj as He,N as le,M as oe,av as re,R as Y,G as D,H as W,al as Te,bj as ie,bk as _,O as Z,V as Ge,aD as ce,Z as Ve,at as qe,az as Xe,bl as Ue}from"./index-CIppsPuS.js";import{u as We}from"./index-i_WyJzc8.js";import{I as U}from"./index-Cx4IuQIV.js";import{V as Je}from"./index-492MB-Gu.js";import{R as Ye}from"./FolderViewOutlined-D3AFCKNC.js";var Ze={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 312v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm376 116c-119.3 0-216 96.7-216 216s96.7 216 216 216 216-96.7 216-216-96.7-216-216-216zm107.5 323.5C750.8 868.2 712.6 884 672 884s-78.8-15.8-107.5-44.5C535.8 810.8 520 772.6 520 732s15.8-78.8 44.5-107.5C593.2 595.8 631.4 580 672 580s78.8 15.8 107.5 44.5C808.2 653.2 824 691.4 824 732s-15.8 78.8-44.5 107.5zM761 656h-44.3c-2.6 0-5 1.2-6.5 3.3l-63.5 87.8-23.1-31.9a7.92 7.92 0 00-6.5-3.3H573c-6.5 0-10.3 7.4-6.5 12.7l73.8 102.1c3.2 4.4 9.7 4.4 12.9 0l114.2-158c3.9-5.3.1-12.7-6.4-12.7zM440 852H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"file-done",theme:"outlined"},Qe=function(s,a){return j.createElement(ve,T({},s,{ref:a,icon:Ze}))},en=j.forwardRef(Qe),me=S.forwardRef(function(n,s){var a=n.prefixCls,o=n.forceRender,g=n.className,x=n.style,h=n.children,u=n.isActive,v=n.role,p=n.classNames,w=n.styles,f=S.useState(u||o),b=de(f,2),r=b[0],m=b[1];return S.useEffect(function(){(o||u)&&m(!0)},[o,u]),r?S.createElement("div",{ref:s,className:F("".concat(a,"-content"),L(L({},"".concat(a,"-content-active"),u),"".concat(a,"-content-inactive"),!u),g),style:x,role:v},S.createElement("div",{className:F("".concat(a,"-content-box"),p==null?void 0:p.body),style:w==null?void 0:w.body},h)):null});me.displayName="PanelContent";var nn=["showArrow","headerClass","isActive","onItemClick","forceRender","className","classNames","styles","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],ge=S.forwardRef(function(n,s){var a=n.showArrow,o=a===void 0?!0:a,g=n.headerClass,x=n.isActive,h=n.onItemClick,u=n.forceRender,v=n.className,p=n.classNames,w=p===void 0?{}:p,f=n.styles,b=f===void 0?{}:f,r=n.prefixCls,m=n.collapsible,$=n.accordion,N=n.panelKey,c=n.extra,C=n.header,y=n.expandIcon,i=n.openMotion,R=n.destroyInactivePanel,P=n.children,z=ue(n,nn),k=m==="disabled",l=c!=null&&typeof c!="boolean",t=L(L(L({onClick:function(){h==null||h(N)},onKeyDown:function(E){(E.key==="Enter"||E.keyCode===ee.ENTER||E.which===ee.ENTER)&&(h==null||h(N))},role:$?"tab":"button"},"aria-expanded",x),"aria-disabled",k),"tabIndex",k?-1:0),d=typeof y=="function"?y(n):S.createElement("i",{className:"arrow"}),O=d&&S.createElement("div",T({className:"".concat(r,"-expand-icon")},["header","icon"].includes(m)?t:{}),d),M=F("".concat(r,"-item"),L(L({},"".concat(r,"-item-active"),x),"".concat(r,"-item-disabled"),k),v),I=F(g,"".concat(r,"-header"),L({},"".concat(r,"-collapsible-").concat(m),!!m),w.header),A=Ce({className:I,style:b.header},["header","icon"].includes(m)?{}:t);return S.createElement("div",T({},z,{ref:s,className:M}),S.createElement("div",A,o&&O,S.createElement("span",T({className:"".concat(r,"-header-text")},m==="header"?t:{}),C),l&&S.createElement("div",{className:"".concat(r,"-extra")},c)),S.createElement(ye,T({visible:x,leavedClassName:"".concat(r,"-content-hidden")},i,{forceRender:u,removeOnLeave:R}),function(B,E){var V=B.className,G=B.style;return S.createElement(me,{ref:E,prefixCls:r,className:V,classNames:w,style:G,styles:b,isActive:x,forceRender:u,role:$?"tabpanel":void 0},P)}))}),sn=["children","label","key","collapsible","onItemClick","destroyInactivePanel"],tn=function(s,a){var o=a.prefixCls,g=a.accordion,x=a.collapsible,h=a.destroyInactivePanel,u=a.onItemClick,v=a.activeKey,p=a.openMotion,w=a.expandIcon;return s.map(function(f,b){var r=f.children,m=f.label,$=f.key,N=f.collapsible,c=f.onItemClick,C=f.destroyInactivePanel,y=ue(f,sn),i=String($??b),R=N??x,P=C??h,z=function(t){R!=="disabled"&&(u(t),c==null||c(t))},k=!1;return g?k=v[0]===i:k=v.indexOf(i)>-1,S.createElement(ge,T({},y,{prefixCls:o,key:i,panelKey:i,isActive:k,accordion:g,openMotion:p,expandIcon:w,header:m,collapsible:R,onItemClick:z,destroyInactivePanel:P}),r)})},an=function(s,a,o){if(!s)return null;var g=o.prefixCls,x=o.accordion,h=o.collapsible,u=o.destroyInactivePanel,v=o.onItemClick,p=o.activeKey,w=o.openMotion,f=o.expandIcon,b=s.key||String(a),r=s.props,m=r.header,$=r.headerClass,N=r.destroyInactivePanel,c=r.collapsible,C=r.onItemClick,y=!1;x?y=p[0]===b:y=p.indexOf(b)>-1;var i=c??h,R=function(k){i!=="disabled"&&(v(k),C==null||C(k))},P={key:b,panelKey:b,header:m,headerClass:$,isActive:y,prefixCls:g,destroyInactivePanel:N??u,openMotion:w,accordion:x,children:s.props.children,onItemClick:R,expandIcon:f,collapsible:i};return typeof s.type=="string"?s:(Object.keys(P).forEach(function(z){typeof P[z]>"u"&&delete P[z]}),S.cloneElement(s,P))};function ln(n,s,a){return Array.isArray(n)?tn(n,a):he(s).map(function(o,g){return an(o,g,a)})}function on(n){var s=n;if(!Array.isArray(s)){var a=Ie(s);s=a==="number"||a==="string"?[s]:[]}return s.map(function(o){return String(o)})}var rn=S.forwardRef(function(n,s){var a=n.prefixCls,o=a===void 0?"rc-collapse":a,g=n.destroyInactivePanel,x=g===void 0?!1:g,h=n.style,u=n.accordion,v=n.className,p=n.children,w=n.collapsible,f=n.openMotion,b=n.expandIcon,r=n.activeKey,m=n.defaultActiveKey,$=n.onChange,N=n.items,c=F(o,v),C=be([],{value:r,onChange:function(l){return $==null?void 0:$(l)},defaultValue:m,postState:on}),y=de(C,2),i=y[0],R=y[1],P=function(l){return R(function(){if(u)return i[0]===l?[]:[l];var t=i.indexOf(l),d=t>-1;return d?i.filter(function(O){return O!==l}):[].concat(Se(i),[l])})};je(!p,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var z=ln(N,p,{prefixCls:o,accordion:u,openMotion:f,expandIcon:b,collapsible:w,destroyInactivePanel:x,onItemClick:P,activeKey:i});return S.createElement("div",T({ref:s,className:c,style:h,role:u?"tablist":void 0},$e(n,{aria:!0,data:!0})),z)});const Q=Object.assign(rn,{Panel:ge});Q.Panel;const cn=j.forwardRef((n,s)=>{const{getPrefixCls:a}=j.useContext(we),{prefixCls:o,className:g,showArrow:x=!0}=n,h=a("collapse",o),u=F({[`${h}-no-arrow`]:!x},g);return j.createElement(Q.Panel,Object.assign({ref:s},n,{prefixCls:h,className:u}))}),dn=n=>{const{componentCls:s,contentBg:a,padding:o,headerBg:g,headerPadding:x,collapseHeaderPaddingSM:h,collapseHeaderPaddingLG:u,collapsePanelBorderRadius:v,lineWidth:p,lineType:w,colorBorder:f,colorText:b,colorTextHeading:r,colorTextDisabled:m,fontSizeLG:$,lineHeight:N,lineHeightLG:c,marginSM:C,paddingSM:y,paddingLG:i,paddingXS:R,motionDurationSlow:P,fontSizeIcon:z,contentPadding:k,fontHeight:l,fontHeightLG:t}=n,d=`${K(p)} ${w} ${f}`;return{[s]:Object.assign(Object.assign({},Oe(n)),{backgroundColor:g,border:d,borderRadius:v,"&-rtl":{direction:"rtl"},[`& > ${s}-item`]:{borderBottom:d,"&:first-child":{[`
            &,
            & > ${s}-header`]:{borderRadius:`${K(v)} ${K(v)} 0 0`}},"&:last-child":{[`
            &,
            & > ${s}-header`]:{borderRadius:`0 0 ${K(v)} ${K(v)}`}},[`> ${s}-header`]:Object.assign(Object.assign({position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:x,color:r,lineHeight:N,cursor:"pointer",transition:`all ${P}, visibility 0s`},Re(n)),{[`> ${s}-header-text`]:{flex:"auto"},[`${s}-expand-icon`]:{height:l,display:"flex",alignItems:"center",paddingInlineEnd:C},[`${s}-arrow`]:Object.assign(Object.assign({},ze()),{fontSize:z,transition:`transform ${P}`,svg:{transition:`transform ${P}`}}),[`${s}-header-text`]:{marginInlineEnd:"auto"}}),[`${s}-collapsible-header`]:{cursor:"default",[`${s}-header-text`]:{flex:"none",cursor:"pointer"},[`${s}-expand-icon`]:{cursor:"pointer"}},[`${s}-collapsible-icon`]:{cursor:"unset",[`${s}-expand-icon`]:{cursor:"pointer"}}},[`${s}-content`]:{color:b,backgroundColor:a,borderTop:d,[`& > ${s}-content-box`]:{padding:k},"&-hidden":{display:"none"}},"&-small":{[`> ${s}-item`]:{[`> ${s}-header`]:{padding:h,paddingInlineStart:R,[`> ${s}-expand-icon`]:{marginInlineStart:n.calc(y).sub(R).equal()}},[`> ${s}-content > ${s}-content-box`]:{padding:y}}},"&-large":{[`> ${s}-item`]:{fontSize:$,lineHeight:c,[`> ${s}-header`]:{padding:u,paddingInlineStart:o,[`> ${s}-expand-icon`]:{height:t,marginInlineStart:n.calc(i).sub(o).equal()}},[`> ${s}-content > ${s}-content-box`]:{padding:i}}},[`${s}-item:last-child`]:{borderBottom:0,[`> ${s}-content`]:{borderRadius:`0 0 ${K(v)} ${K(v)}`}},[`& ${s}-item-disabled > ${s}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:m,cursor:"not-allowed"}},[`&${s}-icon-position-end`]:{[`& > ${s}-item`]:{[`> ${s}-header`]:{[`${s}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:C}}}}})}},un=n=>{const{componentCls:s}=n,a=`> ${s}-item > ${s}-header ${s}-arrow`;return{[`${s}-rtl`]:{[a]:{transform:"rotate(180deg)"}}}},hn=n=>{const{componentCls:s,headerBg:a,borderlessContentPadding:o,borderlessContentBg:g,colorBorder:x}=n;return{[`${s}-borderless`]:{backgroundColor:a,border:0,[`> ${s}-item`]:{borderBottom:`1px solid ${x}`},[`
        > ${s}-item:last-child,
        > ${s}-item:last-child ${s}-header
      `]:{borderRadius:0},[`> ${s}-item:last-child`]:{borderBottom:0},[`> ${s}-item > ${s}-content`]:{backgroundColor:g,borderTop:0},[`> ${s}-item > ${s}-content > ${s}-content-box`]:{padding:o}}}},fn=n=>{const{componentCls:s,paddingSM:a}=n;return{[`${s}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${s}-item`]:{borderBottom:0,[`> ${s}-content`]:{backgroundColor:"transparent",border:0,[`> ${s}-content-box`]:{paddingBlock:a}}}}}},mn=n=>({headerPadding:`${n.paddingSM}px ${n.padding}px`,headerBg:n.colorFillAlter,contentPadding:`${n.padding}px 16px`,contentBg:n.colorBgContainer,borderlessContentPadding:`${n.paddingXXS}px 16px ${n.padding}px`,borderlessContentBg:"transparent"}),gn=Pe("Collapse",n=>{const s=ke(n,{collapseHeaderPaddingSM:`${K(n.paddingXS)} ${K(n.paddingSM)}`,collapseHeaderPaddingLG:`${K(n.padding)} ${K(n.paddingLG)}`,collapsePanelBorderRadius:n.borderRadiusLG});return[dn(s),hn(s),fn(s),un(s),Ne(s)]},mn),xn=j.forwardRef((n,s)=>{const{getPrefixCls:a,direction:o,expandIcon:g,className:x,style:h}=Ae("collapse"),{prefixCls:u,className:v,rootClassName:p,style:w,bordered:f=!0,ghost:b,size:r,expandIconPosition:m="start",children:$,destroyInactivePanel:N,destroyOnHidden:c,expandIcon:C}=n,y=Me(A=>{var B;return(B=r??A)!==null&&B!==void 0?B:"middle"}),i=a("collapse",u),R=a(),[P,z,k]=gn(i),l=j.useMemo(()=>m==="left"?"start":m==="right"?"end":m,[m]),t=C??g,d=j.useCallback((A={})=>{const B=typeof t=="function"?t(A):j.createElement(Be,{rotate:A.isActive?o==="rtl"?-90:90:void 0,"aria-label":A.isActive?"expanded":"collapsed"});return ne(B,()=>{var E;return{className:F((E=B.props)===null||E===void 0?void 0:E.className,`${i}-arrow`)}})},[t,i,o]),O=F(`${i}-icon-position-${l}`,{[`${i}-borderless`]:!f,[`${i}-rtl`]:o==="rtl",[`${i}-ghost`]:!!b,[`${i}-${y}`]:y!=="middle"},x,v,p,z,k),M=j.useMemo(()=>Object.assign(Object.assign({},Ee(R)),{motionAppear:!1,leavedClassName:`${i}-content-hidden`}),[R,i]),I=j.useMemo(()=>$?he($).map((A,B)=>{var E,V;const G=A.props;if(G!=null&&G.disabled){const xe=(E=A.key)!==null&&E!==void 0?E:String(B),pe=Object.assign(Object.assign({},se(A.props,["disabled"])),{key:xe,collapsible:(V=G.collapsible)!==null&&V!==void 0?V:"disabled"});return ne(A,pe)}return A}):null,[$]);return P(j.createElement(Q,Object.assign({ref:s,openMotion:M},se(n,["rootClassName"]),{expandIcon:d,prefixCls:i,className:O,style:Object.assign(Object.assign({},h),w),destroyInactivePanel:c??N}),I))}),pn=Object.assign(xn,{Panel:cn});async function vn(n){return(await fe.request({url:"/download/",method:"get",params:n})).data.data}function Cn(n){return fe.request({url:"/download/complete",method:"get",params:{torrent_hash:n}})}const{useToken:yn}=_e;function wn(){const{token:n}=yn(),s=Ke(),[a,o]=j.useState(),[g,x]=j.useState(),h=We(g,{wait:1e3}),[u,v]=j.useState(!0),[p,w]=j.useState(!0),[f,b]=j.useState(!1),[r,m]=j.useState({status:"all",sizeRange:[0,1e4],dateRange:null,sortBy:"date",sortOrder:"desc"}),[$,N]=j.useState({total:0,downloading:0,completed:0,failed:0,totalSize:"0 GB"}),{data:c=[],loading:C,refresh:y}=te(()=>vn({include_success:u,include_failed:p}),{refreshDeps:[u,p]}),i=j.useMemo(()=>{let l=c.filter(t=>{if(!(!h||t.name.indexOf(h)!=-1||t.files.some(I=>I.name.indexOf(h)!=-1||I.path.indexOf(h)!=-1)))return!1;const O=t.files.some(I=>I.progress>=1),M=t.files.some(I=>I.progress===0);return!(!u&&O&&!t.files.some(I=>I.progress<1)||!p&&M)});return f&&(l=l.filter(t=>{if(r.status!=="all"){const d=t.files.some(M=>M.progress>=1),O=t.files.some(M=>M.progress>0&&M.progress<1);if(r.status==="completed"&&!d||r.status==="downloading"&&!O)return!1}return!0})),l},[c,h,f,r,u,p]),{run:R}=te(Cn,{manual:!0,onSuccess:()=>{X.success("标记成功"),y()}}),P=l=>{if(l){const t=new URLSearchParams(window.location.search),d=t.get("source")||"javdb",O=t.get("url")||"";s({to:`/video/${l}`,search:{source:d,url:O}})}else X.info("无法识别番号，无法跳转到详情页面")},z=l=>{s({to:"/actor",search:{actorName:l}})},k=i.map(l=>({key:l.hash,label:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[e.jsx("span",{children:l.name}),e.jsx(H,{children:(()=>{const t=l.files.length,d=l.files.filter(I=>I.progress>=1).length,O=l.files.filter(I=>I.progress>0&&I.progress<1).length,M=l.files.reduce((I,A)=>I+A.progress,0)/t;return e.jsxs(e.Fragment,{children:[e.jsxs(le,{color:d===t?"success":O>0?"processing":"default",children:[d,"/",t," 文件"]}),e.jsx(oe,{percent:Math.round(M*100),size:"small",style:{width:80},strokeColor:d===t?"#52c41a":"#1890ff"})]})})()})]}),children:e.jsx(J,{itemLayout:"horizontal",dataSource:l.files,renderItem:(t,d)=>e.jsx(J.Item,{actions:[e.jsx(q,{title:"整理",children:e.jsx(U,{onClick:()=>{o(t.path)},children:e.jsx(Ye,{style:{fontSize:n.sizeLG}})})})],children:e.jsx(J.Item.Meta,{title:e.jsxs("span",{children:[t.num?e.jsx("a",{onClick:()=>P(t.num),children:t.name}):t.name,e.jsx(le,{style:{marginLeft:5},color:"success",children:t.size}),t.progress<1&&e.jsx(oe,{percent:Math.round(t.progress*100),size:"small",style:{width:100,marginLeft:10,display:"inline-block"}})]}),description:e.jsxs("div",{children:[e.jsx("div",{children:t.path}),t.actors&&t.actors.length>0&&e.jsxs("div",{style:{marginTop:5},children:[e.jsx(He,{style:{marginRight:5}}),t.actors.map((O,M)=>e.jsxs(S.Fragment,{children:[e.jsx("a",{onClick:()=>z(O),children:O}),M<t.actors.length-1&&e.jsx("span",{children:", "})]},O))]})]})})})}),extra:e.jsxs(H,{children:[e.jsx(q,{title:"重新开始下载",children:e.jsx(U,{onClick:()=>{X.info("重新开始下载功能开发中...")},children:e.jsx(De,{style:{fontSize:n.sizeLG,color:"#1890ff"}})})}),e.jsx(q,{title:"暂停下载",children:e.jsx(U,{onClick:()=>{X.info("暂停下载功能开发中...")},children:e.jsx(Le,{style:{fontSize:n.sizeLG,color:"#faad14"}})})}),e.jsx(q,{title:'标记为"整理成功"',children:e.jsx(U,{onClick:()=>{ae.confirm({title:"是否确认标记为完成",onOk:()=>R(l.hash)})},children:e.jsx(en,{style:{fontSize:n.sizeLG,color:"#52c41a"}})})}),e.jsx(q,{title:"删除任务",children:e.jsx(U,{onClick:()=>{ae.confirm({title:"确认删除下载任务？",content:"此操作将删除下载任务，但不会删除已下载的文件",okText:"确认删除",okType:"danger",onOk:()=>{X.info("删除功能开发中...")}})},children:e.jsx(Fe,{style:{fontSize:n.sizeLG,color:"#ff4d4f"}})})})]})}));return e.jsxs(re,{title:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("span",{children:"下载列表"}),e.jsxs(H,{children:[e.jsxs(Z,{icon:e.jsx(Xe,{}),size:"small",onClick:()=>b(!f),children:["高级筛选 ",f?"▼":"▶"]}),e.jsx(Z,{icon:e.jsx(Ue,{}),size:"small",onClick:y,loading:C,children:"刷新"})]})]}),loading:C,extra:e.jsx(qe.Search,{value:g,onChange:l=>x(l.target.value),placeholder:"搜索"}),children:[e.jsxs(Y,{gutter:16,style:{marginBottom:16},children:[e.jsx(D,{span:6,children:e.jsx(W,{title:"总任务数",value:c.length})}),e.jsx(D,{span:6,children:e.jsx(W,{title:"进行中",value:c.reduce((l,t)=>l+t.files.filter(d=>d.progress>0&&d.progress<1).length,0),valueStyle:{color:"#1890ff"}})}),e.jsx(D,{span:6,children:e.jsx(W,{title:"已完成",value:c.reduce((l,t)=>l+t.files.filter(d=>d.progress>=1).length,0),valueStyle:{color:"#52c41a"}})}),e.jsx(D,{span:6,children:e.jsx(W,{title:"失败/等待",value:c.reduce((l,t)=>l+t.files.filter(d=>d.progress===0).length,0),valueStyle:{color:"#ff4d4f"}})})]}),e.jsx(Te,{}),e.jsx("div",{style:{marginBottom:16},children:e.jsxs(Y,{gutter:16,children:[e.jsx(D,{children:e.jsxs(H,{children:[e.jsx("span",{children:"显示已完成:"}),e.jsx(ie,{checked:u,onChange:v,size:"small"})]})}),e.jsx(D,{children:e.jsxs(H,{children:[e.jsx("span",{children:"显示失败:"}),e.jsx(ie,{checked:p,onChange:w,size:"small"})]})})]})}),f&&e.jsx(re,{size:"small",style:{marginBottom:16},children:e.jsxs(Y,{gutter:[16,8],children:[e.jsxs(D,{span:8,children:[e.jsx("div",{style:{marginBottom:8},children:"状态筛选"}),e.jsxs(_,{value:r.status,onChange:l=>m({...r,status:l}),style:{width:"100%"},children:[e.jsx(_.Option,{value:"all",children:"全部状态"}),e.jsx(_.Option,{value:"downloading",children:"下载中"}),e.jsx(_.Option,{value:"completed",children:"已完成"}),e.jsx(_.Option,{value:"failed",children:"失败/等待"})]})]}),e.jsxs(D,{span:8,children:[e.jsx("div",{style:{marginBottom:8},children:"排序方式"}),e.jsxs(_,{value:`${r.sortBy}-${r.sortOrder}`,onChange:l=>{const[t,d]=l.split("-");m({...r,sortBy:t,sortOrder:d})},style:{width:"100%"},children:[e.jsx(_.Option,{value:"date-desc",children:"添加时间 (新→旧)"}),e.jsx(_.Option,{value:"date-asc",children:"添加时间 (旧→新)"}),e.jsx(_.Option,{value:"progress-desc",children:"进度 (高→低)"}),e.jsx(_.Option,{value:"progress-asc",children:"进度 (低→高)"}),e.jsx(_.Option,{value:"size-desc",children:"大小 (大→小)"}),e.jsx(_.Option,{value:"size-asc",children:"大小 (小→大)"})]})]}),e.jsxs(D,{span:8,children:[e.jsx("div",{style:{marginBottom:8},children:"快速操作"}),e.jsx(H,{children:e.jsx(Z,{size:"small",onClick:()=>{m({status:"all",sizeRange:[0,1e4],dateRange:null,sortBy:"date",sortOrder:"desc"}),x("")},children:"重置筛选"})})]})]})}),i.length>0?e.jsxs(e.Fragment,{children:[i.length!==c.length&&e.jsx("div",{style:{marginBottom:16,padding:"8px 12px",background:"#f0f2f5",borderRadius:4},children:e.jsxs(H,{children:[e.jsx(Ge,{count:i.length,style:{backgroundColor:"#1890ff"}}),e.jsxs("span",{children:["筛选结果：",i.length," / ",c.length," 个任务"]})]})}),e.jsx(pn,{items:k,ghost:!0})]}):c.length>0?e.jsx(ce,{description:"没有符合筛选条件的下载任务"}):e.jsx(ce,{description:e.jsxs("span",{children:["无下载任务，",e.jsx(Ve,{to:"/setting/download",children:"配置下载"})]})}),e.jsx(Je,{title:"下载整理",mode:"download",width:1100,path:a,open:!!a,onCancel:()=>o(void 0),onOk:()=>{o(void 0),y()}})]})}export{wn as component};
