import{D as e,aq as n,ar as s,az as o,ac as g,S as j,bj as r,G as p}from"./index-AMmT7rUo.js";import{g as f,s as y}from"./setting-Be9p1c3v.js";function v(){return e.jsxs(e.Fragment,{children:[e.jsx(n.Item,{name:"telegram_token",label:"Token",children:e.jsx(s,{})}),e.jsx(n.Item,{name:"telegram_chat_id",label:"Chat ID",children:e.jsx(s,{})})]})}function S(){return e.jsx(e.Fragment,{children:e.jsx(n.Item,{name:"url",label:"URL",children:e.jsx(s,{})})})}const m=[{name:"Telegram",value:"telegram",element:v},{name:"Webhook",value:"webhook",element:S}],k=function(){var i;const[a]=n.useForm(),c=n.useWatch("type",a),{loading:u}=o(f,{onSuccess:t=>{a.setFieldsValue(t.notify)}}),{run:x,loading:d}=o(y,{manual:!0,onSuccess:()=>{g.success("设置成功")}});function h(t){x("notify",t)}const l=(i=m.find(t=>t.value===c))==null?void 0:i.element;return u?e.jsx(j,{active:!0}):e.jsx("div",{className:"w-[600px] max-w-full my-0 mx-auto",children:e.jsxs(n,{layout:"vertical",form:a,onFinish:h,children:[e.jsx(n.Item,{name:"type",label:"类型",initialValue:"telegram",children:e.jsx(r,{children:m.map(t=>e.jsx(r.Option,{value:t.value,children:t.name},t.value))})}),l&&e.jsx(l,{}),e.jsx("div",{style:{textAlign:"center"},children:e.jsx(p,{type:"primary",style:{width:150},loading:d,htmlType:"submit",children:"提交"})})]})})};export{k as component};
