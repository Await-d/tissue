import{aM as r,aB as s,F as e,av as h,a5 as x,aT as m,N as n,O as p,ae as g}from"./index-DEqrQYWM.js";async function f(){return(await r.request({url:"/schedule/",method:"get"})).data.data}function j(a){return r.request({url:"/schedule/fire",method:"get",params:{key:a}})}function S(){const{data:a=[],loading:o,refresh:d}=s(f,{}),{run:i,loading:c}=s(j,{manual:!0,onSuccess:()=>{g.success("手动执行成功"),d()}}),l=[{title:"任务",dataIndex:"name"},{title:"状态",dataIndex:"status",render:t=>t?e.jsx(n,{color:"success",children:"运行中"}):e.jsx(n,{color:"warning",children:"等待"})},{title:"下次执行",dataIndex:"next_run_time",render:t=>m(t).format("lll")},{title:"操作",dataIndex:"operations",render:(t,u)=>e.jsx("span",{children:e.jsx(p,{type:"primary",onClick:()=>i(u.key),loading:c,children:"手动执行"})})}];return e.jsx(h,{title:"任务列表",children:e.jsx(x,{rowKey:"key",columns:l,dataSource:a,loading:o,pagination:!1})})}export{S as component};
