import{aL as t,aA as r,F as e,au as g,a6 as x,N as n,aS as p,O as f,a_ as m,af as b}from"./index-DN2Bw1AB.js";async function h(){return(await t.request({url:"/schedule/",method:"get"})).data.data}function y(s){return t.request({url:"/schedule/fire",method:"get",params:{key:s}})}function k(){const{data:s=[],loading:o,refresh:d}=r(h,{}),{run:l,loading:i}=r(y,{manual:!0,onSuccess:()=>{b.success("手动执行成功"),d()}}),c=[{title:"任务名称",dataIndex:"name",render:a=>e.jsx("span",{style:{color:"#f0f0f2",fontWeight:500},children:a})},{title:"状态",dataIndex:"status",render:a=>a?e.jsxs(n,{style:{background:"rgba(212, 168, 82, 0.1)",border:"1px solid rgba(212, 168, 82, 0.3)",color:"#d4a852",display:"inline-flex",alignItems:"center",gap:6},children:[e.jsx("span",{className:"status-dot running"}),"运行中"]}):e.jsxs(n,{style:{background:"rgba(160, 160, 168, 0.1)",border:"1px solid rgba(160, 160, 168, 0.3)",color:"#a0a0a8",display:"inline-flex",alignItems:"center",gap:6},children:[e.jsx("span",{className:"status-dot waiting"}),"等待"]})},{title:"下次执行时间",dataIndex:"next_run_time",render:a=>e.jsx("span",{style:{color:"#a0a0a8",fontSize:13},children:p(a).format("lll")})},{title:"操作",dataIndex:"operations",render:(a,u)=>e.jsx(f,{type:"primary",onClick:()=>l(u.key),loading:i,icon:e.jsx(m,{}),style:{background:"linear-gradient(135deg, #d4a852 0%, #b08d3e 100%)",border:"none",boxShadow:"0 2px 8px rgba(212, 168, 82, 0.25)",transition:"all 0.3s"},className:"execute-btn",children:"手动执行"})}];return e.jsx("div",{className:"schedule-page-wrapper animate-fade-in",children:e.jsx(g,{title:e.jsx("span",{style:{color:"#f0f0f2",fontSize:18,fontWeight:500},children:"任务调度"}),className:"dark-card",style:{background:"#141416",border:"1px solid rgba(255, 255, 255, 0.08)",borderRadius:8},children:e.jsx(x,{rowKey:"key",columns:c,dataSource:s,loading:o,pagination:!1,className:"dark-table",rowClassName:"dark-table-row"})})})}export{k as component};
